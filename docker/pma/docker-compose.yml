services:
  pma:
    image: pma-${ENV}-${PMA_VERSION}
    container_name: ${PROJECT_NAME}-${ENV}-pma-${PMA_VERSION}
    restart: unless-stopped
    build:
      context: ${ROOT_DIRECTORY}
      dockerfile: ${ROOT_DIRECTORY}/docker/pma/Dockerfile
      target: env-${ENV}
      args:
        PMA_VERSION: ${PMA_VERSION}
        PMA_USER: ${DATABASE_USER}
        PMA_PASSWORD: ${DATABASE_PASSWORD}
    environment:
      PMA_ABSOLUTE_URI: http://pma.${DOMAIN}
      PMA_HOST: database
    depends_on:
      - database
    networks:
      - network_app
